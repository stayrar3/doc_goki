<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-owners-threshold" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Owners &amp; Threshold | Goki Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://stayrar3.github.io/doc_goki/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://stayrar3.github.io/doc_goki/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://stayrar3.github.io/doc_goki/docs/owners-threshold"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Owners &amp; Threshold | Goki Documentation"><meta data-rh="true" name="description" content="Welcome back to the Goki journey! In Chapter 1: SmartWalletWrapper, we learned that the SmartWalletWrapper is your &quot;remote control&quot; for Goki Smart Wallets, simplifying how you interact with them. But what exactly is a Goki Smart Wallet made of, and how does it know who can do what?"><meta data-rh="true" property="og:description" content="Welcome back to the Goki journey! In Chapter 1: SmartWalletWrapper, we learned that the SmartWalletWrapper is your &quot;remote control&quot; for Goki Smart Wallets, simplifying how you interact with them. But what exactly is a Goki Smart Wallet made of, and how does it know who can do what?"><link data-rh="true" rel="icon" href="/doc_goki/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://stayrar3.github.io/doc_goki/docs/owners-threshold"><link data-rh="true" rel="alternate" href="https://stayrar3.github.io/doc_goki/docs/owners-threshold" hreflang="en"><link data-rh="true" rel="alternate" href="https://stayrar3.github.io/doc_goki/docs/owners-threshold" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Owners & Threshold","item":"https://stayrar3.github.io/doc_goki/docs/owners-threshold"}]}</script><link rel="alternate" type="application/rss+xml" href="/doc_goki/blog/rss.xml" title="Goki Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/doc_goki/blog/atom.xml" title="Goki Documentation Atom Feed"><link rel="stylesheet" href="/doc_goki/assets/css/styles.ba795a2b.css">
<script src="/doc_goki/assets/js/runtime~main.92c6d7db.js" defer="defer"></script>
<script src="/doc_goki/assets/js/main.7d543981.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/doc_goki/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/doc_goki/"><div class="navbar__logo"><img src="/doc_goki/img/logo.svg" alt="Goki Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/doc_goki/img/logo.svg" alt="Goki Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Goki Documentation</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/doc_goki/docs/intro">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/stayrar3/doc_goki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc_goki/docs/intro">Introduction to Goki</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc_goki/docs/smart-wallet-wrapper">SmartWalletWrapper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/doc_goki/docs/owners-threshold">Owners &amp; Threshold</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc_goki/docs/timelock">Timelock</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc_goki/docs/goki-sdk">Goki SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc_goki/docs/smart-wallet-program">Smart Wallet Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc_goki/docs/transaction-state-account">Transaction State Account</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc_goki/docs/instruction-execution-cpi">Instruction Execution (CPI)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc_goki/docs/program-derived-addresses-pdas">Program Derived Addresses (PDAs)</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/doc_goki/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Owners &amp; Threshold</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Owners &amp; Threshold</h1></header>
<p>Welcome back to the Goki journey! In <a href="/doc_goki/docs/smart-wallet-wrapper">Chapter 1: SmartWalletWrapper</a>, we learned that the <code>SmartWalletWrapper</code> is your &quot;remote control&quot; for Goki Smart Wallets, simplifying how you interact with them. But what exactly is a Goki Smart Wallet made of, and how does it know who can do what?</p>
<p>That&#x27;s where <strong>Owners &amp; Threshold</strong> come in. These are the foundational security settings of your Goki Smart Wallet, defining its core &quot;multi-signature&quot; (multisig) behavior.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-shared-bank-account-dilemma">The Shared Bank Account Dilemma<a href="#the-shared-bank-account-dilemma" class="hash-link" aria-label="Direct link to The Shared Bank Account Dilemma" title="Direct link to The Shared Bank Account Dilemma">​</a></h2>
<p>Imagine you and your friends decided to open a shared bank account for your club. You don&#x27;t want just <em>anyone</em> to be able to spend money. You want rules:</p>
<ol>
<li><strong>Who are the authorized people?</strong> (The &quot;owners&quot;)</li>
<li><strong>How many of them need to agree before money can be spent?</strong> (The &quot;threshold&quot;)</li>
</ol>
<p>On the blockchain, a Goki Smart Wallet solves this exact problem for digital assets. It allows multiple digital &quot;keys&quot; (representing individuals or entities) to control a single wallet, and it enforces rules about how many of those keys must &quot;sign off&quot; on a transaction.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-concepts-owners--threshold">Key Concepts: Owners &amp; Threshold<a href="#key-concepts-owners--threshold" class="hash-link" aria-label="Direct link to Key Concepts: Owners &amp; Threshold" title="Direct link to Key Concepts: Owners &amp; Threshold">​</a></h2>
<p>Let&#x27;s break down these two essential components:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-owners">1. Owners<a href="#1-owners" class="hash-link" aria-label="Direct link to 1. Owners" title="Direct link to 1. Owners">​</a></h3>
<p>The <code>owners</code> are simply a <strong>list of public keys</strong>. Each public key is like a unique digital fingerprint, and it represents someone who has authority over the Smart Wallet. Think of them as the names listed on the shared bank account.</p>
<ul>
<li><strong>Who they are</strong>: Individuals, organizations, or even other smart contracts.</li>
<li><strong>Their role</strong>: Each owner has the power to propose transactions or approve existing ones.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-threshold">2. Threshold<a href="#2-threshold" class="hash-link" aria-label="Direct link to 2. Threshold" title="Direct link to 2. Threshold">​</a></h3>
<p>The <code>threshold</code> is a <strong>number</strong> that dictates the minimum number of owners who must agree to a transaction before it can actually happen. It&#x27;s like the minimum number of signatures required on a check from your shared bank account.</p>
<ul>
<li><strong>What it does</strong>: Ensures that decisions are not made by a single person, promoting shared governance and security.</li>
<li><strong>Example</strong>: If you have 3 owners and a <code>threshold</code> of 2, this is called a &quot;2-of-3&quot; multisig. It means that out of the three owners, any two of them must approve a transaction for it to proceed.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-owners--threshold-in-goki">Setting Up Owners &amp; Threshold in Goki<a href="#setting-up-owners--threshold-in-goki" class="hash-link" aria-label="Direct link to Setting Up Owners &amp; Threshold in Goki" title="Direct link to Setting Up Owners &amp; Threshold in Goki">​</a></h2>
<p>When you create a new Goki Smart Wallet using the <code>SmartWalletWrapper</code>, you define its <code>owners</code> and <code>threshold</code> right from the start.</p>
<p>Let&#x27;s revisit the example from Chapter 1, focusing on these parameters:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Keypair</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> PublicKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">LAMPORTS_PER_SOL</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@solana/web3.js&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> makeSDK </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./workspace&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Helper to get the SDK</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">BN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;bn.js&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> sdk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">makeSDK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Our entry point to Goki</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 1. Define our Owners</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ownerA </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Keypair</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">generate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ownerB </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Keypair</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">generate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ownerC </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Keypair</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">generate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> owners </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ownerA</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publicKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ownerB</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publicKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ownerC</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publicKey</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// A list of 3 owner public keys</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 2. Define our Threshold</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> threshold </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name constant" style="color:#36acaa">BN</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Requires 2 approvals out of these 3 owners</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> smartWalletWrapper</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// This will hold our remote control!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Create a new Smart Wallet using these owners and threshold</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> smartWalletWrapper</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> wrapperInner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tx </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> sdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">newSmartWallet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  numOwners</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> owners</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">length</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Total number of owners</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  owners</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// The list of owner public keys</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  threshold</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// The minimum number of approvals needed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> tx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">confirm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Send the transaction to create the wallet</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">smartWalletWrapper </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> wrapperInner</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Smart Wallet created:&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> smartWalletWrapper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toBase58</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><em>Explanation</em>: In this code, we first create three unique digital keys (<code>ownerA</code>, <code>ownerB</code>, <code>ownerC</code>) to represent our owners. We then list their public keys in the <code>owners</code> array. Crucially, we set the <code>threshold</code> to <code>2</code>. This means our Smart Wallet is now configured as a &quot;2-of-3&quot; multisig: any transaction will need approvals from at least two of <code>ownerA</code>, <code>ownerB</code>, or <code>ownerC</code> to be executed.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="owners--threshold-in-action">Owners &amp; Threshold in Action<a href="#owners--threshold-in-action" class="hash-link" aria-label="Direct link to Owners &amp; Threshold in Action" title="Direct link to Owners &amp; Threshold in Action">​</a></h2>
<p>Let&#x27;s see how these settings play out when we actually use the wallet to send some SOL, just like we did in Chapter 1.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-proposing-a-transaction">1. Proposing a Transaction<a href="#1-proposing-a-transaction" class="hash-link" aria-label="Direct link to 1. Proposing a Transaction" title="Direct link to 1. Proposing a Transaction">​</a></h3>
<p>Any owner can propose a transaction. Let&#x27;s say <code>ownerA</code> proposes sending <code>0.1 SOL</code>.</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> SystemProgram </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@solana/web3.js&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ... (previous code for smartWalletWrapper)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> recipient </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Keypair</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">generate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publicKey</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> amountToSend </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">LAMPORTS_PER_SOL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Owner A proposes the transaction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> transferInstruction </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SystemProgram</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">transfer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fromPubkey</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> smartWalletWrapper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  toPubkey</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> recipient</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  lamports</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> amountToSend</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> transactionKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tx</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> proposeTx </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> smartWalletWrapper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">newTransaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proposer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ownerA</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publicKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Owner A is the proposer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    instructions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">transferInstruction</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">proposeTx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">signers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ownerA</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> proposeTx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">confirm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Transaction proposed:&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> transactionKey</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toBase58</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><em>Explanation</em>: Even though <code>ownerA</code> proposed the transaction, the <code>threshold</code> of 2 has <em>not</em> been met yet. The transaction is just a &quot;proposal&quot; at this stage.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-approving-a-transaction">2. Approving a Transaction<a href="#2-approving-a-transaction" class="hash-link" aria-label="Direct link to 2. Approving a Transaction" title="Direct link to 2. Approving a Transaction">​</a></h3>
<p>Now, another owner needs to approve the transaction. Let&#x27;s have <code>ownerB</code> approve it.</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ... (previous code for transactionKey)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Owner B approves the transaction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> smartWalletWrapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">approveTransaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">transactionKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ownerB</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publicKey</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addSigners</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ownerB</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">confirm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Transaction approved by Owner B.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Check the current state of the transaction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> txState </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> smartWalletWrapper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">fetchTransaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">transactionKey</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Approvals needed:&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> txState</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">numApprovalsNeeded</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toNumber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// This will be 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Approvals received:&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> txState</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">numApprovals</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toNumber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// This will be 2</span><br></span></code></pre></div></div>
<p><em>Explanation</em>: After <code>ownerB</code> approves, the Smart Wallet now has 2 approvals (from <code>ownerA</code> and <code>ownerB</code>). Since our <code>threshold</code> was set to 2, the transaction has now met the required number of approvals! It&#x27;s ready to be executed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-executing-a-transaction">3. Executing a Transaction<a href="#3-executing-a-transaction" class="hash-link" aria-label="Direct link to 3. Executing a Transaction" title="Direct link to 3. Executing a Transaction">​</a></h3>
<p>Once the threshold is met, any owner (or even someone else, if the transaction is public) can execute it. Let&#x27;s have <code>ownerC</code> execute it.</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ... (previous code for transactionKey)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Owner C executes the transaction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> smartWalletWrapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">executeTransaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    transactionKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    owner</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ownerC</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">publicKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addSigners</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ownerC</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">confirm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Transaction executed successfully!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// The 0.1 SOL has now been sent!</span><br></span></code></pre></div></div>
<p><em>Explanation</em>: When <code>ownerC</code> attempts to execute, the <a href="/doc_goki/docs/smart-wallet-program">Smart Wallet Program</a> (which we&#x27;ll explore next) checks if the <code>threshold</code> of approvals has been met. Since it has (2 approvals for a threshold of 2), the transaction is allowed to proceed and the SOL is sent.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="under-the-hood-how-owners--threshold-work">Under the Hood: How Owners &amp; Threshold Work<a href="#under-the-hood-how-owners--threshold-work" class="hash-link" aria-label="Direct link to Under the Hood: How Owners &amp; Threshold Work" title="Direct link to Under the Hood: How Owners &amp; Threshold Work">​</a></h2>
<p>The <code>owners</code> list and <code>threshold</code> value are not just temporary settings; they are fundamental data stored directly on the blockchain as part of your <code>SmartWallet</code> account.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="where-the-data-lives">Where the Data Lives<a href="#where-the-data-lives" class="hash-link" aria-label="Direct link to Where the Data Lives" title="Direct link to Where the Data Lives">​</a></h3>
<p>When you use <code>sdk.newSmartWallet</code>, the <a href="/doc_goki/docs/smart-wallet-program">Smart Wallet Program</a> creates a special account on the Solana blockchain for your Smart Wallet. This account permanently stores your <code>owners</code> list and <code>threshold</code> number.</p>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sequenceDiagram</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    participant User</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    participant SmartWalletWrapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    participant SolanaNetwork</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    participant SmartWalletProgram</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    participant SmartWalletAccount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User-&gt;&gt;SmartWalletWrapper: 1. Call newSmartWallet(owners, threshold)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SmartWalletWrapper-&gt;&gt;SolanaNetwork: 2. Send &#x27;Create Smart Wallet&#x27; instruction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Note over SolanaNetwork: Instruction processed by Solana blockchain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SolanaNetwork-&gt;&gt;SmartWalletProgram: 3. Invoke Smart Wallet Program</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SmartWalletProgram-&gt;&gt;SmartWalletAccount: 4. Create &amp; Store (owners, threshold)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SmartWalletAccount--&gt;&gt;SmartWalletProgram: 5. Data stored</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SmartWalletProgram--&gt;&gt;SolanaNetwork: 6. Confirmation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SolanaNetwork--&gt;&gt;SmartWalletWrapper: 7. Confirmation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SmartWalletWrapper--&gt;&gt;User: 8. Smart Wallet created!</span><br></span></code></pre></div></div>
<p><em>Explanation</em>: When you create the Smart Wallet, the <code>SmartWalletProgram</code> receives the list of <code>owners</code> and the <code>threshold</code>. It then securely saves this information into the <code>SmartWalletAccount</code> on the blockchain. This data is now the official record for your wallet&#x27;s security rules.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-the-program-uses-them">How the Program Uses Them<a href="#how-the-program-uses-them" class="hash-link" aria-label="Direct link to How the Program Uses Them" title="Direct link to How the Program Uses Them">​</a></h3>
<p>The real power of <code>owners</code> and <code>threshold</code> comes from how the <a href="/doc_goki/docs/smart-wallet-program">Smart Wallet Program</a> uses them to <em>enforce</em> the rules.</p>
<ul>
<li><strong>During <code>approveTransaction</code></strong>: When an owner approves a transaction, the program checks if the signer is indeed one of the <code>owners</code> listed in the <code>SmartWallet</code> account. If not, the approval fails.</li>
<li><strong>During <code>executeTransaction</code></strong>: Before executing any instruction, the program checks the current number of approvals on the proposed transaction against the <code>threshold</code> stored in the <code>SmartWallet</code> account. If <code>approvals &lt; threshold</code>, the execution is rejected.</li>
</ul>
<p>This is a crucial security feature: the rules are enforced by the blockchain program itself, not just by your local <code>SmartWalletWrapper</code>.</p>
<p>Let&#x27;s look at a simplified code snippet from the core <a href="/doc_goki/docs/smart-wallet-program">Smart Wallet Program</a> written in Rust (<code>programs/smart-wallet/src/lib.rs</code> and <code>programs/smart-wallet/src/state.rs</code>) to see where these values are stored and referenced:</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Simplified from programs/smart-wallet/src/state.rs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/// A [SmartWallet] is a multisig wallet with Timelock capabilities.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token attribute attr-name" style="color:#00a4db">#[account]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token attribute attr-name" style="color:#00a4db">#[derive(Default, Debug, PartialEq)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token type-definition class-name">SmartWallet</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ... other fields ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/// Minimum number of owner approvals needed to sign a [Transaction].</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">pub</span><span class="token plain"> threshold</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">u64</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/// Owners of the [SmartWallet].</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">pub</span><span class="token plain"> owners</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Vec</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token class-name">Pubkey</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ... other fields ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">impl</span><span class="token plain"> </span><span class="token class-name">SmartWallet</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/// Gets the index of the key in the owners Vec, or error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">try_owner_index</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Pubkey</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">Result</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">usize</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// This function checks if a given public key is one of the owners.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// It returns an error if the key is not found in the &#x27;owners&#x27; list.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">Ok</span><span class="token punctuation" style="color:#393A34">(</span><span class="token macro property" style="color:#36acaa">unwrap_opt!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">owner_index_opt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">InvalidOwner</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><em>Explanation</em>: The <code>SmartWallet</code> struct is how your Smart Wallet&#x27;s data is organized on the blockchain. Notice it has <code>threshold</code> and <code>owners</code> fields. The <code>try_owner_index</code> function is an example of how the program can check if a given public key (e.g., the one trying to approve a transaction) is actually one of the authorized <code>owners</code>.</p>
<p>And here&#x27;s a peek at how they are set when the Smart Wallet is created:</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Simplified from programs/smart-wallet/src/lib.rs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token attribute attr-name" style="color:#00a4db">#[program]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">mod</span><span class="token plain"> </span><span class="token module-declaration namespace" style="opacity:0.7">smart_wallet</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">::</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/// Initializes a new [SmartWallet] account.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">create_smart_wallet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ctx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Context</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token class-name">CreateSmartWallet</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _bump</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">u8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        max_owners</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">u8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Max number of owners this wallet can ever have</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        owners</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Vec</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token class-name">Pubkey</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// The actual list of owners</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        threshold</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">u64</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// The required approval count</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        minimum_delay</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i64</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">Result</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> smart_wallet </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">accounts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">smart_wallet</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        smart_wallet</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">threshold </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> threshold</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Program stores the threshold</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        smart_wallet</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">owners </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> owners</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">clone</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Program stores the owners list</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// ... other initialization ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">Ok</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><em>Explanation</em>: In the <code>create_smart_wallet</code> function, you can see how the <code>threshold</code> and <code>owners</code> values passed during creation are directly saved into the <code>smart_wallet</code> account on the blockchain. From this point forward, these values define the security parameters of your Goki Smart Wallet.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p><strong>Owners &amp; Threshold</strong> are the bedrock of security and control for your Goki Smart Wallet. They define who has authority and how many agreements are needed for any action. By understanding these concepts, you grasp how shared control is enforced on the blockchain, making Goki ideal for managing collective assets.</p>
<p>In the next chapter, we&#x27;ll delve into <a href="/doc_goki/docs/timelock">Timelock</a>, another powerful security feature that adds a time-based delay to transactions, providing an extra layer of safety.</p>
<hr>
<sub><sup><strong>References</strong>: <a href="https://github.com/GokiProtocol/goki/blob/87aff0569301acd16f3bdcbfec09cae6ba3e62cc/programs/smart-wallet/src/lib.rs" target="_blank" rel="noopener noreferrer">Smart Wallet Program</a>, <a href="https://github.com/GokiProtocol/goki/blob/87aff0569301acd16f3bdcbfec09cae6ba3e62cc/programs/smart-wallet/src/state.rs" target="_blank" rel="noopener noreferrer">Smart Wallet State</a>, <a href="https://github.com/GokiProtocol/goki/blob/87aff0569301acd16f3bdcbfec09cae6ba3e62cc/src/sdk.ts" target="_blank" rel="noopener noreferrer">SDK</a>, <a href="https://github.com/GokiProtocol/goki/blob/87aff0569301acd16f3bdcbfec09cae6ba3e62cc/tests/smartWallet.spec.ts" target="_blank" rel="noopener noreferrer">Tests</a></sup></sub></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/stayrar3/doc_goki/tree/main/docs/owners-threshold.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/doc_goki/docs/smart-wallet-wrapper"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SmartWalletWrapper</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/doc_goki/docs/timelock"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Timelock</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-shared-bank-account-dilemma" class="table-of-contents__link toc-highlight">The Shared Bank Account Dilemma</a></li><li><a href="#key-concepts-owners--threshold" class="table-of-contents__link toc-highlight">Key Concepts: Owners &amp; Threshold</a><ul><li><a href="#1-owners" class="table-of-contents__link toc-highlight">1. Owners</a></li><li><a href="#2-threshold" class="table-of-contents__link toc-highlight">2. Threshold</a></li></ul></li><li><a href="#setting-up-owners--threshold-in-goki" class="table-of-contents__link toc-highlight">Setting Up Owners &amp; Threshold in Goki</a></li><li><a href="#owners--threshold-in-action" class="table-of-contents__link toc-highlight">Owners &amp; Threshold in Action</a><ul><li><a href="#1-proposing-a-transaction" class="table-of-contents__link toc-highlight">1. Proposing a Transaction</a></li><li><a href="#2-approving-a-transaction" class="table-of-contents__link toc-highlight">2. Approving a Transaction</a></li><li><a href="#3-executing-a-transaction" class="table-of-contents__link toc-highlight">3. Executing a Transaction</a></li></ul></li><li><a href="#under-the-hood-how-owners--threshold-work" class="table-of-contents__link toc-highlight">Under the Hood: How Owners &amp; Threshold Work</a><ul><li><a href="#where-the-data-lives" class="table-of-contents__link toc-highlight">Where the Data Lives</a></li><li><a href="#how-the-program-uses-them" class="table-of-contents__link toc-highlight">How the Program Uses Them</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/doc_goki/docs/intro">Documentation</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/GokiProtocol/goki" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Goki Documentation. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>